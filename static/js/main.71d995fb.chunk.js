(this["webpackJsonpfast-track-typescript-redux-template"]=this["webpackJsonpfast-track-typescript-redux-template"]||[]).push([[0],{47:function(e,a,t){e.exports=t(92)},78:function(e,a,t){},82:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){},85:function(e,a,t){},87:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var n,r,c,o=t(1),l=t.n(o),i=t(20),u=t.n(i),m=t(4),s=t(12),d=t(13),f=Object(o.createContext)({showSidebar:!1,toggleSidebar:function(){}}),p=function(e){var a=e.children,t=Object(o.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1];return l.a.createElement(f.Provider,{value:{showSidebar:r,toggleSidebar:function(){c((function(e){return!e}))}}},a)};!function(e){e.Red="red",e.Blue="blue",e.Green="green",e.Purple="purple"}(n||(n={})),function(e){e.Name="name",e.Capital="capital",e.Region="region",e.Population="population"}(r||(r={})),function(e){e.Ascending="ascending",e.Descending="descending"}(c||(c={}));var g=Object(o.createContext)({theme:n.Blue,changeTheme:function(){}}),v=function(e){var a=e.children,t=Object(o.useState)(n.Blue),r=Object(d.a)(t,2),c=r[0],i=r[1];return l.a.createElement(g.Provider,{value:{theme:c,changeTheme:function(e){i(e)}}},a)},E=t(42),b=t(10),h=t(21),_=t.n(h),N=t(39),C=t(40),y=t.n(C);function O(e){return{type:"GET_COUNTRY_SUCCESS",payload:{data:e}}}function j(e){return{type:"ADD_FAVORITE_COUNTRY",payload:{countryName:e}}}function w(e){return{type:"REMOVE_FAVORITE_COUNTRY",payload:{countryName:e}}}t(78);var T=function(e){var a=e.country,t=Object(m.b)(),n=Object(o.useContext)(g).theme;return l.a.createElement("div",{className:"favorite-row favorite-row-".concat(n)},l.a.createElement(s.b,{className:"favorite-row__link",to:"/country/".concat(a.commonName)},a.commonName),a.favorite?l.a.createElement(b.a,{className:"icon favorite-row__icon",onClick:function(){return t(w(a.commonName))}}):l.a.createElement(b.b,{className:"icon favorite-row__icon",onClick:function(){return t(j(a.commonName))}}))},R=(t(82),function(e){var a=e.onClose;return l.a.createElement("div",{className:"backdrop","aria-hidden":"true",onClick:a,onKeyDown:a})}),k=function(e){var a=e.children;return l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"content"},a))},x=function(e){var a=e.onClose,t=e.children;return l.a.createElement(l.a.Fragment,null,l.a.createElement(R,{onClose:a}),l.a.createElement(k,null,t))},L=(t(83),function(){var e=Object(m.b)(),a=Object(o.useContext)(g).theme,t=Object(m.c)((function(e){return e.country})).favoriteCountries,n=function(){e({type:"TOGGLE_MODAL"})};return l.a.createElement(x,{onClose:n},l.a.createElement("div",{className:"modal__header modal__header-".concat(a)},l.a.createElement("h2",null,"Favorite List"),l.a.createElement(E.a,{className:"icon modal__close",onClick:n})),t.map((function(e){return l.a.createElement(T,{key:e.commonName,country:e})})))}),S=t(43),A=(t(84),function(){var e=Object(m.b)(),a=Object(o.useContext)(f),t=a.showSidebar,n=a.toggleSidebar,r=Object(o.useContext)(g).theme,c=Object(m.c)((function(e){return e.country})).favoriteCountries;return l.a.createElement("header",null,l.a.createElement("nav",{className:"nav ".concat(t?"nav-push":""," nav-").concat(r)},l.a.createElement("button",{className:"nav__hamburger",onClick:n},l.a.createElement(S.a,{className:"icon nav__hamburger-icon"})),l.a.createElement("button",{className:"nav__logo"},l.a.createElement(s.c,{className:"nav__link",to:"/"},"Country API")),l.a.createElement("button",{className:"nav__favorite"},l.a.createElement("span",{className:"icon nav__favorite-icon"},l.a.createElement(b.b,{onClick:function(){e({type:"TOGGLE_MODAL"})}})),l.a.createElement("span",{className:"nav__favorite-badge"},c.length))))}),F=t(18),G=(t(85),function(){var e=Object(o.useContext)(f).showSidebar,a=Object(o.useContext)(g).changeTheme;return l.a.createElement("div",{className:"sidebar ".concat(e?"sidebar-show":"")},l.a.createElement("p",{className:"sidebar__title"},"Theme"),l.a.createElement("ul",{className:"sidebar__themes"},l.a.createElement("li",null,l.a.createElement("button",{className:"theme theme-red",onClick:function(){return a(n.Red)}},l.a.createElement("span",{className:"theme__text"},"Red"),l.a.createElement(F.a,{className:"theme__icon"}))),l.a.createElement("li",null,l.a.createElement("button",{className:"theme theme-blue",onClick:function(){return a(n.Blue)}},l.a.createElement("span",{className:"theme__text"},"Blue"),l.a.createElement(F.a,{className:"theme__icon"}))),l.a.createElement("li",null,l.a.createElement("button",{className:"theme theme-green",onClick:function(){return a(n.Green)}},l.a.createElement("span",{className:"theme__text"},"Green"),l.a.createElement(F.a,{className:"theme__icon"}))),l.a.createElement("li",null,l.a.createElement("button",{className:"theme theme-purple",onClick:function(){return a(n.Purple)}},l.a.createElement("span",{className:"theme__text"},"Purple"),l.a.createElement(F.a,{className:"theme__icon"})))))}),P=t(3),U=t(44),D=t(45),M=t(25),B=(t(87),function(e){var a=e.input,t=e.inputHandler,n=e.inputRef,r=Object(o.useContext)(g).theme;return l.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault()}},l.a.createElement("input",{className:"form__input form__input-".concat(r),type:"text",placeholder:"Enter a country name...",value:a,onChange:t,ref:n}))});t(88);function H(){var e=Object(m.b)(),a=Object(o.useState)(""),t=Object(d.a)(a,2),n=t[0],i=t[1],u=Object(o.useState)(r.Name),p=Object(d.a)(u,2),v=p[0],E=p[1],h=Object(o.useState)(c.Ascending),_=Object(d.a)(h,2),N=_[0],C=_[1],y=Object(o.useRef)(null),O=Object(o.useContext)(f).showSidebar,T=Object(o.useContext)(g).theme,R=Object(m.c)((function(e){return e.country})),k=R.allCountries,x=R.isLoading,L=R.error;Object(o.useEffect)((function(){var e;null===(e=y.current)||void 0===e||e.focus()}),[]);var S=function(e){v===e?N===c.Ascending?C(c.Descending):C(c.Ascending):E(e)},A=Object(o.useCallback)((function(e){return v===e?N===c.Ascending?l.a.createElement(M.a,{className:"icon icon-sort"}):l.a.createElement(M.b,{className:"icon icon-sort"}):l.a.createElement(l.a.Fragment,null)}),[v,N]),F=Object(o.useMemo)((function(){var e=k.map((function(e){return{flag:e.flag,commonName:e.commonName,capital:e.capital[0],region:e.region,population:e.population.toLocaleString("en-us"),favorite:e.favorite}}));return v===r.Name?e.sort((function(e,a){return e.commonName.localeCompare(a.commonName)})):v===r.Capital?e.sort((function(e,a){var t;return null===(t=e.capital)||void 0===t?void 0:t.localeCompare(a.capital)})):v===r.Region?e.sort((function(e,a){return e.region.localeCompare(a.region)})):e.sort((function(e,a){return Number(a.population.replace(/\D/g,""))-Number(e.population.replace(/\D/g,""))})),N===c.Descending&&e.reverse(),n.length>0?e.filter((function(e){return e.commonName.startsWith(n[0].toUpperCase()+n.substring(1).toLowerCase())})):e}),[n,k,N,v]),G=Object(o.useMemo)((function(){return[{Header:"Flag",accessor:"flag",Cell:function(e){var a=e.row,t=e.value;return l.a.createElement("img",{className:"country-row__img",alt:"".concat(a.values.commonName," img"),src:t})}},{Header:l.a.createElement(l.a.Fragment,null,"Name ",A(r.Name)),accessor:"commonName",Cell:function(e){var a=e.value;return l.a.createElement(s.b,{className:"country-row__link",to:"/country/".concat(a)},a)}},{Header:l.a.createElement(l.a.Fragment,null,"Capital ",A(r.Capital)),accessor:"capital"},{Header:l.a.createElement(l.a.Fragment,null,"Region ",A(r.Region)),accessor:"region"},{Header:l.a.createElement(l.a.Fragment,null,"Population ",A(r.Population)),accessor:"population"},{Header:"Favorite",accessor:"favorite",Cell:function(a){var t=a.row,n=a.value;return l.a.createElement(l.a.Fragment,null,n?l.a.createElement(b.a,{className:"icon country-row__icon country-row__icon-".concat(T),onClick:function(){e(w(t.values.commonName))}}):l.a.createElement(b.b,{className:"icon country-row__icon country-row__icon-".concat(T),onClick:function(){e(j(t.values.commonName))}}))}}]}),[A,e,T]),P=Object(U.useTable)({columns:G,data:F}),H=P.getTableProps,I=P.getTableBodyProps,Y=P.headerGroups,V=P.rows,W=P.prepareRow;return l.a.createElement("div",{className:"home ".concat(O?"home-push":"")},l.a.createElement(D.a,{className:"icon home__globe"}),l.a.createElement("h1",{className:"home__title home__title-".concat(T)},"Country API"),l.a.createElement(B,{input:n,inputHandler:function(e){i(e.target.value)},inputRef:y}),x&&l.a.createElement("p",{className:"home__loading home__loading-".concat(T)},"Loading ..."),L&&l.a.createElement("p",{className:"home__error home__error-".concat(T)},L),!x&&!L&&l.a.createElement("div",{className:"home__table"},l.a.createElement("table",H(),l.a.createElement("thead",null,Y.map((function(e){return l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return l.a.createElement("th",Object.assign({className:"table__header-".concat(e.id),onClick:function(){var a;"commonName"===(a=e.id)?S(r.Name):"capital"===a?S(r.Capital):"region"===a?S(r.Region):"population"===a&&S(r.Population)}},e.getHeaderProps(),{scope:"col"}),e.render("Header"))})))}))),l.a.createElement("tbody",I(),V.map((function(e){return W(e),l.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return l.a.createElement("td",e.getCellProps(),e.render("Cell"))})))}))))))}t(89);var I=function(e){var a,t=e.country,n=Object(m.b)(),r=function(e){var a="";return e.forEach((function(t){t===e[0]?a+=t:t!==e[e.length-1]?a+=", "+t:a+=", and "+t})),a},c="The official name is ".concat(t.officialName,". It is located in\n\t").concat(t.region," and has population of\n\t").concat(t.population.toLocaleString("en-us"),". \n  ").concat(function(e){if(void 0===e)return"Languages used in this country data is currently unavailable";for(var a=[],n=0,c=Object.entries(e);n<c.length;n++){var o=Object(d.a)(c[n],2)[1];a.push(o)}return 0===a.length?"No language is used in this country":1===a.length?"Language used in ".concat(t.commonName," is ").concat(a[0]):2===a.length?"Languages used in ".concat(t.commonName," are ").concat(a[0]," and ").concat(a[1]):"Languages used in ".concat(t.commonName," are ").concat(r(a))}(t.languages),". \n\t").concat(function(e){if(void 0===e)return"This country's borders data is currently unavailable";return 0===e.length?"There is no country adjacent to this country":1===e.length?"Border country is ".concat(e[0]):2===e.length?"Border countries are ".concat(e[0]," and ").concat(e[1]):"Border countries are ".concat(r(e))}(t.borders),".");return l.a.createElement("div",{className:"country-card"},l.a.createElement("div",{className:"country-card__head-container"},l.a.createElement("p",{className:"country-card__common-name"},t.commonName),l.a.createElement("div",{className:"country-card__favorite"},t.favorite?l.a.createElement(b.a,{className:"icon country-card__icon",onClick:function(){return n(w(t.commonName))}}):l.a.createElement(b.b,{className:"icon country-card__icon",onClick:function(){return n(j(t.commonName))}}))),l.a.createElement("p",{className:"country-card__capital"},0===(a=t.capital).length?"N/A":1===a.length?a[0]:2===a.length?"".concat(a[0]," and ").concat(a[1]):r(a)),l.a.createElement("img",{className:"country-card__img",alt:"".concat(t.commonName," img"),src:t.flag}),l.a.createElement("p",{className:"country-card__detail"},c))},Y=(t(90),function(){var e=Object(P.f)().name,a=Object(o.useContext)(f).showSidebar,t=Object(o.useContext)(g).theme,n=Object(m.c)((function(e){return e.country})),r=n.allCountries,c=n.isLoading,i=n.error,u=r.find((function(a){return a.commonName===e}));return l.a.createElement("div",{className:"country-detail country-detail-".concat(t," ").concat(a?"country-detail-push":"")},c&&l.a.createElement("p",{className:"country-detail__loading"},"Loading ..."),i&&l.a.createElement("p",{className:"country-detail__error"},i),!c&&!i&&!u&&l.a.createElement("p",{className:"country-detail__error"},"No Country Found!!!"),!c&&!i&&u&&l.a.createElement(I,{country:u}))}),V=function(){return l.a.createElement(P.c,null,l.a.createElement(P.a,{exact:!0,path:"/",component:H}),l.a.createElement(P.a,{exact:!0,path:"/country/:name",component:Y}))};function W(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.modal})).showModal;return Object(o.useEffect)((function(){e(function(){var e=Object(N.a)(_.a.mark((function e(a){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"GET_COUNTRY"}),e.prev=1,e.next=4,y.a.get("https://restcountries.com/v3.1/all");case 4:return t=e.sent,e.next=7,t.data;case 7:return n=e.sent,e.abrupt("return",a(O(n)));case 11:if(e.prev=11,e.t0=e.catch(1),!0!==e.t0.isAxiosError){e.next=15;break}return e.abrupt("return",a({type:"GET_COUNTRY_FAILURE",payload:{errorMsg:e.t0.message}}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}())}),[e]),l.a.createElement(p,null,l.a.createElement(v,null,a&&l.a.createElement(L,null),l.a.createElement(A,null),l.a.createElement("main",null,l.a.createElement(G,null),l.a.createElement(V,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=t(16),K=t(46),$=t(11);function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,error:"",allCountries:[],favoriteCountries:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_COUNTRY":return Object($.a)(Object($.a)({},e),{},{isLoading:!0,error:""});case"GET_COUNTRY_SUCCESS":var t=a.payload.data.map((function(e){return void 0===e.capital?{commonName:e.name.common,officialName:e.name.official,capital:["N/A"],flag:e.flags.png,population:e.population,languages:e.languages,borders:e.borders,region:e.region,favorite:!1}:{commonName:e.name.common,officialName:e.name.official,capital:e.capital,flag:e.flags.png,population:e.population,languages:e.languages,borders:e.borders,region:e.region,favorite:!1}}));return Object($.a)(Object($.a)({},e),{},{isLoading:!1,allCountries:t});case"GET_COUNTRY_FAILURE":return Object($.a)(Object($.a)({},e),{},{isLoading:!1,error:a.payload.errorMsg});case"ADD_FAVORITE_COUNTRY":var n=e.allCountries.map((function(e){return e.commonName===a.payload.countryName&&(e.favorite=!e.favorite),e})),r=e.favoriteCountries.map((function(e){return e})),c=n.find((function(e){return e.commonName===a.payload.countryName}));return c&&r.push(c),Object($.a)(Object($.a)({},e),{},{allCountries:n,favoriteCountries:r});case"REMOVE_FAVORITE_COUNTRY":var o=e.allCountries.map((function(e){return e.commonName===a.payload.countryName&&(e.favorite=!e.favorite),e})),l=e.favoriteCountries.filter((function(e){return e.commonName!==a.payload.countryName}));return Object($.a)(Object($.a)({},e),{},{allCountries:o,favoriteCountries:l});default:return e}}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showModal:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TOGGLE_MODAL":return{showModal:!e.showModal};default:return e}}var Q=function(){return Object(J.b)({country:q,modal:z})},X={country:{isLoading:!0,error:"",allCountries:[],favoriteCountries:[]},modal:{showModal:!1}};t(91);var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,a=[K.a],t=J.c,n=Object(J.d)(Q(),e,t(J.a.apply(void 0,a)));return n}(),ee=function(){return l.a.createElement(m.a,{store:Z},l.a.createElement(s.a,null,l.a.createElement(W,null)))};u.a.render(l.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.71d995fb.chunk.js.map